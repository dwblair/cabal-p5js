!function(){var shim=function(){window.requestDraw=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()}({}),constants=function(){var t=Math.PI;return{ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",HALF_PI:t/2,PI:t,QUARTER_PI:t/4,TAU:2*t,TWO_PI:2*t,DEGREES:"degrees",RADIANS:"radians",CORNER:"corner",CORNERS:"corners",RADIUS:"radius",RIGHT:"right",LEFT:"left",CENTER:"center",POINTS:"points",LINES:"lines",TRIANGLES:"triangles",TRIANGLE_FAN:"triangles_fan",TRIANGLE_STRIP:"triangles_strip",QUADS:"quads",QUAD_STRIP:"quad_strip",CLOSE:"close",OPEN:"open",CHORD:"chord",PIE:"pie",PROJECT:"square",SQUARE:"butt",ROUND:"round",BEVEL:"bevel",MITER:"miter",RGB:"rgb",HSB:"hsb",AUTO:"auto",NORMAL:"normal",ITALIC:"italic",BOLD:"bold",LINEAR:"linear",QUADRATIC:"quadratic",BEZIER:"bezier",CURVE:"curve"}}({}),core=function(t,e,n){"use strict";var n=n,o=function(t,e){if(this.frameCount=0,this.focused=!0,this.displayWidth=screen.width,this.displayHeight=screen.height,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,window.addEventListener("resize",function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}),this.shapeKind=null,this.shapeInited=!1,this.mouseX=0,this.mouseY=0,this.pmouseX=0,this.pmouseY=0,this.winMouseX=0,this.winMouseY=0,this.pwinMouseX=0,this.pwinMouseY=0,this.mouseButton=0,this.key="",this.keyCode=0,this.keyDown=!1,this.touchX=0,this.touchY=0,this.pWriters=[],this.curElement=null,this._elements=[],this.matrices=[[1,0,0,1,0,0]],this.settings={loop:!0,fill:!1,updateInterval:0,rectMode:n.CORNER,imageMode:n.CORNER,ellipseMode:n.CENTER,colorMode:n.RGB,mousePressed:!1,angleMode:n.RADIANS},this._startTime=(new Date).getTime(),this._userNode=e,this._preloadCount=0,this._isGlobal=!1,this._frameRate=0,this._lastFrameTime=0,this._targetFrameRate=60,this._textLeading=15,this._textFont="sans-serif",this._textSize=12,this._textStyle=n.NORMAL,this.styles=[],this._bezierDetail=20,this._curveDetail=20,this._contourInited=!1,this._contourVertices=[],t){t(this);for(var r in n)n.hasOwnProperty(r)&&(o.prototype[r]=n[r]);window.addEventListener("mousemove",function(t){this.onmousemove(t)}.bind(this)),window.addEventListener("mousedown",function(t){this.onmousedown(t)}.bind(this)),window.addEventListener("mouseup",function(t){this.onmouseup(t)}.bind(this)),window.addEventListener("mouseclick",function(t){this.onmouseclick(t)}.bind(this)),window.addEventListener("mousewheel",function(t){this.onmousewheel(t)}.bind(this)),window.addEventListener("keydown",function(t){this.onkeydown(t)}.bind(this)),window.addEventListener("keyup",function(t){this.onkeyup(t)}.bind(this)),window.addEventListener("keypress",function(t){this.onkeypress(t)}.bind(this)),window.addEventListener("touchstart",function(t){this.ontouchstart(t)}.bind(this)),window.addEventListener("touchmove",function(t){this.ontouchmove(t)}.bind(this)),window.addEventListener("touchend",function(t){this.ontouchend(t)}.bind(this))}else{this._isGlobal=!0;for(var i in o.prototype)window[i]=o.prototype[i].bind(this);for(var s in this)this.hasOwnProperty(s)&&(window[s]=this[s]);for(var a in n)n.hasOwnProperty(a)&&(window[a]=n[a])}"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)};return o.prototype._start=function(){this.createCanvas(800,600,!0),this._userNode&&"string"==typeof this._userNode&&(this._userNode=document.getElementById(this._userNode));var t=this.preload||window.preload,e=this._isGlobal?window:this;t?(e.loadJSON=function(t){return e._preload("loadJSON",t)},e.loadStrings=function(t){return e._preload("loadStrings",t)},e.loadXML=function(t){return e._preload("loadXML",t)},e.loadImage=function(t){return e._preload("loadImage",t)},t(),e.loadJSON=o.prototype.loadJSON,e.loadStrings=o.prototype.loadStrings,e.loadXML=o.prototype.loadXML,e.loadImage=o.prototype.loadImage):(this._setup(),this._runFrames(),this._draw())},o.prototype._preload=function(t,e){var n=this._isGlobal?window:this;return n._setProperty("preload-count",n._preloadCount+1),o.prototype[t].call(n,e,function(){n._setProperty("preload-count",n._preloadCount-1),0===n._preloadCount&&(n._setup(),n._runFrames(),n._draw())})},o.prototype._setup=function(){var t=this.setup||window.setup;"function"==typeof t&&t()},o.prototype._draw=function(){var t=(new Date).getTime();this._frameRate=1e3/(t-this._lastFrameTime),this._lastFrameTime=t;var e=this.draw||window.draw;this.settings.loop&&setTimeout(function(){window.requestDraw(this._draw.bind(this))}.bind(this),1e3/this._targetFrameRate),"function"==typeof e&&e(),this.curElement.context.setTransform(1,0,0,1,0,0)},o.prototype._runFrames=function(){this.updateInterval&&clearInterval(this.updateInterval),this.updateInterval=setInterval(function(){this._setProperty("frameCount",this.frameCount+1)}.bind(this),1e3/this._targetFrameRate)},o.prototype._applyDefaults=function(){this.curElement.context.fillStyle="#FFFFFF",this.curElement.context.strokeStyle="#000000",this.curElement.context.lineCap=n.ROUND},o.prototype._setProperty=function(t,e){this[t]=e,this._isGlobal&&(window[t]=e)},o}({},shim,constants),mathpvector=function(){"use strict";function t(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}return t.prototype.set=function(e,n,o){return e instanceof t?this.set(e.x,e.y,e.z):e instanceof Array?this.set(e[0],e[1],e[2]):(this.x=e||0,this.y=n||0,this.z=o||0,void 0)},t.prototype.get=function(){return new t(this.x,this.y,this.z)},t.prototype.add=function(e,n,o){return e instanceof t?this.add(e.x,e.y,e.z):e instanceof Array?this.add(e[0],e[1],e[2]):(this.x+=e||0,this.y+=n||0,this.z+=o||0,this)},t.prototype.sub=function(e,n,o){return e instanceof t?this.sub(e.x,e.y,e.z):e instanceof Array?this.sub(e[0],e[1],e[2]):(this.x-=e||0,this.y-=n||0,this.z-=o||0,this)},t.prototype.mult=function(t){return this.x*=t||0,this.y*=t||0,this.z*=t||0,this},t.prototype.div=function(t){return this.x/=t,this.y/=t,this.z/=t,this},t.prototype.mag=function(){return Math.sqrt(this.magSq())},t.prototype.magSq=function(){var t=this.x,e=this.y,n=this.z;return t*t+e*e+n*n},t.prototype.dot=function(e,n,o){return e instanceof t?this.dot(e.x,e.y,e.z):this.x*(e||0)+this.y*(n||0)+this.z*(o||0)},t.prototype.cross=function(e){var n=this.y*e.z-this.z*e.y,o=this.z*e.x-this.x*e.z,r=this.x*e.y-this.y*e.x;return new t(n,o,r)},t.prototype.dist=function(t){var e=t.get().sub(this);return e.mag()},t.prototype.normalize=function(){return this.div(this.mag())},t.prototype.limit=function(t){var e=this.magSq();return e>t*t&&(this.div(Math.sqrt(e)),this.mult(t)),this},t.prototype.setMag=function(t){return this.normalize().mult(t)},t.prototype.heading=function(){return Math.atan2(this.y,this.x)},t.prototype.rotate2D=function(t){var e=this.heading()+t,n=this.mag();return this.x=Math.cos(e)*n,this.y=Math.sin(e)*n,this},t.prototype.lerp=function(e,n,o,r){return e instanceof t?this.lerp(e.x,e.y,e.z,n):(this.x+=(e-this.x)*r||0,this.y+=(n-this.y)*r||0,this.z+=(o-this.z)*r||0,this)},t.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},t.fromAngle=function(e){return new t(Math.cos(e),Math.sin(e),0)},t.random2D=function(){return this.fromAngle(Math.random()*Math.PI*2)},t.random3D=function(){var e=Math.random()*Math.PI*2,n=2*Math.random()-1,o=Math.sqrt(1-n*n)*Math.cos(e),r=Math.sqrt(1-n*n)*Math.sin(e);return new t(o,r,n)},t.add=function(t,e){return t.get().add(e)},t.sub=function(t,e){return t.get().sub(e)},t.mult=function(t,e){return t.get().mult(e)},t.div=function(t,e){return t.get().div(e)},t.dot=function(t,e){return t.dot(e)},t.cross=function(t,e){return t.cross(e)},t.dist=function(t,e){return t.dist(e)},t.lerp=function(t,e,n){return t.get().lerp(e,n)},t.angleBetween=function(t,e){return Math.acos(t.dot(e)/(t.mag()*e.mag()))},t}({}),colorcreating_reading=function(t,e){"use strict";var n=e;return n.prototype.alpha=function(t){return t.length>3?t[3]:255},n.prototype.blue=function(t){return t.length>2?t[2]:0},n.prototype.brightness=function(t){return t.length>2?t[2]:0},n.prototype.color=function(){return this.getNormalizedColor(arguments)},n.prototype.green=function(t){return t.length>2?t[1]:0},n.prototype.hue=function(t){return t.length>2?t[0]:0},n.prototype.lerpColor=function(t,e,o){if("Array"==typeof t){for(var r=[],i=0;i<t.length;i++)r.push(n.prototype.lerp(t[i],e[i],o));return r}return n.prototype.lerp(t,e,o)},n.prototype.red=function(t){return t.length>2?t[0]:0},n.prototype.saturation=function(t){return t.length>2?t[1]:0},n}({},core),colorsetting=function(t,e,n){"use strict";function o(t,e,n){var o=[];if(0===e)o=[Math.round(255*n),Math.round(255*n),Math.round(255*n)];else{var r=6*t;6===r&&(r=0);var i,s,a,u=Math.floor(r),c=n*(1-e),h=n*(1-e*(r-u)),p=n*(1-e*(1-(r-u)));0===u?(i=n,s=p,a=c):1===u?(i=h,s=n,a=c):2===u?(i=c,s=n,a=p):3===u?(i=c,s=h,a=n):4===u?(i=p,s=c,a=n):(i=n,s=c,a=h),o=[Math.round(255*i),Math.round(255*s),Math.round(255*a)]}return o}var r=e,n=n;return r.prototype.background=function(){var t=this.getNormalizedColor(arguments),e=this.curElement.context.fillStyle;this.curElement.context.fillStyle=this.getCSSRGBAColor(t),this.curElement.context.fillRect(0,0,this.width,this.height),this.curElement.context.fillStyle=e},r.prototype.clear=function(){this.curElement.context.clearRect(0,0,this.width,this.height)},r.prototype.colorMode=function(t){(t===n.RGB||t===n.HSB)&&(this.settings.colorMode=t)},r.prototype.fill=function(){var t=this.getNormalizedColor(arguments);this.curElement.context.fillStyle=this.getCSSRGBAColor(t)},r.prototype.noFill=function(){this.curElement.context.fillStyle="rgba(0,0,0,0)"},r.prototype.noStroke=function(){this.curElement.context.strokeStyle="rgba(0,0,0,0)"},r.prototype.stroke=function(){var t=this.getNormalizedColor(arguments);this.curElement.context.strokeStyle=this.getCSSRGBAColor(t)},r.prototype.getNormalizedColor=function(t){var e,r,i,s,a,u="number"==typeof t[0].length?t[0]:t;return u.length>=3?(e=u[0],r=u[1],i=u[2],s="number"==typeof u[3]?u[3]:255):(e=r=i=u[0],s="number"==typeof u[1]?u[1]:255),a=this.settings.colorMode===n.HSB?o(e,r,i).concat(s):[e,r,i,s]},r.prototype.getCSSRGBAColor=function(t){var e=t.map(function(t){return Math.floor(t)}),n=e[3]?e[3]/255:1;return"rgba("+e[0]+","+e[1]+","+e[2]+","+n+")"},r}({},core,constants),dataarray_functions=function(t,e){"use strict";var n=e;return n.prototype.append=function(t,e){return t.push(e),t},n.prototype.arrayCopy=function(t,e,n,o,r){var i,s;"undefined"!=typeof r?(s=Math.min(r,t.length),i=o,t=t.slice(e,s+e)):("undefined"!=typeof n?(s=n,s=Math.min(s,t.length)):s=t.length,i=0,n=e,t=t.slice(0,s)),Array.prototype.splice.apply(n,[i,s].concat(t))},n.prototype.concat=function(t,e){return t.concat(e)},n.prototype.reverse=function(t){return t.reverse()},n.prototype.shorten=function(t){return t.pop(),t},n.prototype.sort=function(t,e){var n=e?t.slice(0,Math.min(e,t.length)):t,o=e?t.slice(Math.min(e,t.length)):[];return n="string"==typeof n[0]?n.sort():n.sort(function(t,e){return t-e}),n.concat(o)},n.prototype.splice=function(t,e,n){return Array.prototype.splice.apply(t,[n,0].concat(e)),t},n.prototype.subset=function(t,e,n){return"undefined"!=typeof n?t.slice(e,e+n):t.slice(e,t.length)},n}({},core),datastring_functions=function(t,e){"use strict";function n(){var t=arguments[0],e=0>t,n=e?t.toString().substring(1):t.toString(),o=n.indexOf("."),r=-1!==o?n.substring(0,o):n,i=-1!==o?n.substring(o+1):"",s=e?"-":"";if(3===arguments.length){for(var a=0;a<arguments[1]-r.length;a++)s+="0";s+=r,s+=".",s+=i;for(var u=0;u<arguments[2]-i.length;u++)s+="0";return s}for(var c=0;c<Math.max(arguments[1]-r.length,0);c++)s+="0";return s+=n}function o(){var t=arguments[0].toString(),e=t.indexOf("."),n=-1!==e?t.substring(e):"",o=-1!==e?t.substring(0,e):t;return o=o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),arguments.length>1&&(n=n.substring(0,arguments[1]+1)),o+n}function r(){return parseFloat(arguments[0])>0?"+"+arguments[0].toString():arguments[0].toString()}function i(){return parseFloat(arguments[0])>0?" "+arguments[0].toString():arguments[0].toString()}var s=e;return s.prototype.join=function(t,e){return t.join(e)},s.prototype.match=function(t,e){return t.match(e)},s.prototype.matchAll=function(t,e){for(var n=new RegExp(e,"g"),o=n.exec(t),r=[];null!==o;)r.push(o),o=n.exec(t);return r},s.prototype.nf=function(){if(arguments[0]instanceof Array){var t=arguments[1],e=arguments[2];return arguments[0].map(function(o){return n(o,t,e)})}return n.apply(this,arguments)},s.prototype.nfc=function(){if(arguments[0]instanceof Array){var t=arguments[1];return arguments[0].map(function(e){return o(e,t)})}return o.apply(this,arguments)},s.prototype.nfp=function(){var t=this.nf(arguments);return t instanceof Array?t.map(r):r(t)},s.prototype.nfs=function(){var t=this.nf(arguments);return t instanceof Array?t.map(i):i(t)},s.prototype.split=function(t,e){return t.split(e)},s.prototype.splitTokens=function(){var t=arguments.length>0?arguments[1]:/\s/g;return arguments[0].split(t).filter(function(t){return t})},s.prototype.trim=function(t){return t instanceof Array?t.map(this.trim):t.trim()},s}({},core),inputmouse=function(t,e,n){"use strict";function o(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}var r=e,n=n;return r.prototype.isMousePressed=r.prototype.mouseIsPressed=function(){return this.settings.mousePressed},r.prototype.updateMouseCoords=function(t){var e=o(this.curElement.elt,t);this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("mouseX",e.x),this._setProperty("mouseY",e.y),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("winMouseX",t.pageX),this._setProperty("winMouseY",t.pageY)},r.prototype.setMouseButton=function(t){1===t.button?this._setProperty("mouseButton",n.CENTER):2===t.button?this._setProperty("mouseButton",n.RIGHT):this._setProperty("mouseButton",n.LEFT)},r.prototype.onmousemove=function(t){var e=this._isGlobal?window:this;this.updateMouseCoords(t),this.isMousePressed()||"function"!=typeof e.mouseMoved||e.mouseMoved(t),this.isMousePressed()&&"function"==typeof e.mouseDragged&&e.mouseDragged(t)},r.prototype.onmousedown=function(t){var e=this._isGlobal?window:this;this.settings.mousePressed=!0,this.setMouseButton(t),"function"==typeof e.mousePressed&&e.mousePressed(t)},r.prototype.onmouseup=function(t){var e=this._isGlobal?window:this;this.settings.mousePressed=!1,"function"==typeof e.mouseReleased&&e.mouseReleased(t)},r.prototype.onmouseclick=function(t){var e=this._isGlobal?window:this;"function"==typeof e.mouseClicked&&e.mouseClicked(t)},r.prototype.onmousewheel=function(t){var e=this._isGlobal?window:this;"function"==typeof e.mouseWheel&&e.mouseWheel(t)},r}({},core,constants),inputtouch=function(t,e){"use strict";var n=e;return n.prototype.setTouchPoints=function(t){var e=this._isGlobal?window:this;e._setProperty("touchX",t.changedTouches[0].pageX),e._setProperty("touchY",t.changedTouches[0].pageY);for(var n=[],o=0;o<t.changedTouches.length;o++){var r=t.changedTouches[o];n[o]={x:r.pageX,y:r.pageY}}e._setProperty("touches",n)},n.prototype.ontouchstart=function(t){var e=this._isGlobal?window:this;e.setTouchPoints(t),"function"==typeof e.touchStarted&&(t.preventDefault(),e.touchStarted(t))},n.prototype.ontouchmove=function(t){var e=this._isGlobal?window:this;e.setTouchPoints(t),"function"==typeof e.touchMoved&&(t.preventDefault(),e.touchMoved(t))},n.prototype.ontouchend=function(t){var e=this._isGlobal?window:this;e.setTouchPoints(t),"function"==typeof e.touchEnded&&(t.preventDefault(),e.touchEnded(t))},n}({},core),dompelement=function(t,e){function n(t,e){this.elt=t,this.pInst=e,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,t instanceof HTMLCanvasElement&&(this.context=t.getContext("2d"))}var e=e;return n.prototype.html=function(t){this.elt.innerHTML=t},n.prototype.position=function(t,e){this.elt.style.position="absolute",this.elt.style.left=t+"px",this.elt.style.top=e+"px"},n.prototype.size=function(t,n){var o=t,r=n,i=e.AUTO;(o!==i||r!==i)&&(o===i?o=n*this.elt.width/this.elt.height:r===i&&(r=t*this.elt.height/this.elt.width),this.elt instanceof HTMLCanvasElement?(this.elt.setAttribute("width",o),this.elt.setAttribute("height",r)):(this.elt.style.width=o,this.elt.style.height=r),this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this.pInst.curElement.elt===this.elt&&(this.pInst._setProperty("width",this.elt.offsetWidth),this.pInst._setProperty("height",this.elt.offsetHeight)))},n.prototype.style=function(t){this.elt.style.cssText+=t},n.prototype.id=function(t){this.elt.id=t},n.prototype.class=function(t){this.elt.className=t},n.prototype.show=function(){this.elt.style.display="block"},n.prototype.hide=function(){this.elt.style.display="none"},n.prototype.mousePressed=function(t){var e=this;this.elt.addEventListener("click",function(n){t(n,e)},!1)},n.prototype.mouseOver=function(t){var e=this;this.elt.addEventListener("mouseover",function(n){t(n,e)},!1)},n.prototype.mouseOut=function(t){var e=this;this.elt.addEventListener("mouseout",function(n){t(n,e)},!1)},n}({},constants),dommanipulate=function(t,e,n,o,r){var i=e,s=r;return i.prototype.createCanvas=function(t,e,n){var o=document.createElement("canvas");if(o.setAttribute("width",t),o.setAttribute("height",e),n)o.id="defaultCanvas",document.body.appendChild(o);else{var r=document.getElementById("defaultCanvas");r&&r.parentNode.removeChild(r),this._userNode?"CANVAS"===this._userNode.tagName?(o=this._userNode,o.setAttribute("width",t),o.setAttribute("height",e)):this._userNode.appendChild(o):document.body.appendChild(o)}var i=new s(o,this);return this._elements.push(i),this.context(i),this._applyDefaults(),i},i.prototype.createHTML=function(t){var e=document.createElement("div");e.innerHTML=t,document.body.appendChild(e);var n=new s(e,this);return this._elements.push(n),n},i.prototype.createHTMLImage=function(t,e){var n=document.createElement("img");n.src=t,"undefined"!=typeof e&&(n.alt=e),document.body.appendChild(n);var o=new s(n,this);return this._elements.push(o),o},i.prototype.getId=function(t){for(var e=0;e<this._elements.length;e++)if(this._elements[e].elt.id===t)return this._elements[e];var n=document.getElementById(t);if(n){var o=new s(n,this);return this._elements.push(o),o}return null},i.prototype.getClass=function(t){console.log(this._elements);for(var e=[],n=0;n<this._elements.length;n++)-1!==this._elements[n].elt.className.split(" ").indexOf(t)&&e.push(this._elements[n]);if(0===e.length){var o=document.getElementsByClassName(t);if(o)for(var r=0;r<o.length;r++){var i=new s(o[r],this);this._elements.push(i),e.push(i)}}return e},i.prototype.context=function(t){var e;if("string"==typeof t||t instanceof String){var n=document.getElementById(t);if(n){var o=new s(n,this);this._elements.push(o),e=o}else e=null}else e=t;"undefined"!=typeof e&&(this.curElement=e,this._setProperty("width",e.elt.offsetWidth),this._setProperty("height",e.elt.offsetHeight),this.curElement.onfocus=function(){this.focused=!0},this.curElement.onblur=function(){this.focused=!1},"undefined"!=typeof this.curElement.context&&this.curElement.context.setTransform(1,0,0,1,0,0))},i}({},core,inputmouse,inputtouch,dompelement),environment=function(t,e,n){"use strict";var o=e,r=n,i=[r.ARROW,r.CROSS,r.HAND,r.MOVE,r.TEXT,r.WAIT];return o.prototype.cursor=function(t,e,n){var o="auto",r=this.curElement.elt;if(i.indexOf(t)>-1)o=t;else if("string"==typeof t){var s="";e&&n&&"number"==typeof e&&"number"==typeof n&&(s=e+" "+n),o="http://"!==t.substring(0,6)?"url("+t+") "+s+", auto":/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(t)?"url("+t+") "+s+", auto":t}r.style.cursor=o},o.prototype.frameRate=function(t){return"undefined"==typeof t?this._frameRate:(this._setProperty("_targetFrameRate",t),this._runFrames(),this)},o.prototype.getFrameRate=function(){return this.frameRate()},o.prototype.setFrameRate=function(t){return this.frameRate(t)},o.prototype.noCursor=function(){this.curElement.elt.style.cursor="none"},o}({},core,constants),canvas=function(t,e){var e=e;return{modeAdjust:function(t,n,o,r,i){return i===e.CORNER?{x:t,y:n,w:o,h:r}:i===e.CORNERS?{x:t,y:n,w:o-t,h:r-n}:i===e.RADIUS?{x:t-o,y:n-r,w:2*o,h:2*r}:i===e.CENTER?{x:t-.5*o,y:n-.5*r,w:o,h:r}:void 0},arcModeAdjust:function(t,n,o,r,i){return i===e.CORNER?{x:t+.5*o,y:n+.5*r,w:o,h:r}:i===e.CORNERS?{x:t,y:n,w:o+t,h:r+n}:i===e.RADIUS?{x:t,y:n,w:2*o,h:2*r}:i===e.CENTER?{x:t,y:n,w:o,h:r}:void 0}}}({},constants),filters=function(){"use strict";var t={};return t._toPixels=function(t){return t instanceof ImageData?t.data:t.getContext("2d").getImageData(0,0,t.width,t.height).data},t._getARGB=function(t,e){var n=4*e;return t[n+3]<<24&4278190080|t[n]<<16&16711680|t[n+1]<<8&65280|255&t[n+2]},t._setPixels=function(t,e){for(var n=0,o=0,r=t.length;r>o;o++)n=4*o,t[n+0]=(16711680&e[o])>>>16,t[n+1]=(65280&e[o])>>>8,t[n+2]=255&e[o],t[n+3]=(4278190080&e[o])>>>24},t._toImageData=function(t){return t instanceof ImageData?t:t.getContext("2d").getImageData(0,0,t.width,t.height)},t._createImageData=function(e,n){return t._tmpCanvas=document.createElement("canvas"),t._tmpCtx=t._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(e,n)},t.apply=function(t,e,n){var o=t.getContext("2d"),r=o.getImageData(0,0,t.width,t.height),i=e(r,n);i instanceof ImageData?o.putImageData(i,0,0,0,0,t.width,t.height):o.putImageData(r,0,0,0,0,t.width,t.height)},t.threshold=function(e,n){var o=t._toPixels(e);void 0===n&&(n=.5);for(var r=Math.floor(255*n),i=0;i<o.length;i+=4){var s,a=o[i],u=o[i+1],c=o[i+2],h=.2126*a+.7152*u+.0722*c;s=h>=r?255:0,o[i]=o[i+1]=o[i+2]=s}},t.gray=function(e){for(var n=t._toPixels(e),o=0;o<n.length;o+=4){var r=n[o],i=n[o+1],s=n[o+2],a=.2126*r+.7152*i+.0722*s;n[o]=n[o+1]=n[o+2]=a}},t.opaque=function(e){for(var n=t._toPixels(e),o=0;o<n.length;o+=4)n[o+3]=255;return n},t.invert=function(e){for(var n=t._toPixels(e),o=0;o<n.length;o+=4)n[o]=255-n[o],n[o+1]=255-n[o+1],n[o+2]=255-n[o+2]},t.posterize=function(e,n){var o=t._toPixels(e);if(2>n||n>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var r=n-1,i=0;i<o.length;i++){var s=o[i]>>16&255,a=o[i]>>8&255,u=255&o[i];s=255*(s*n>>8)/r,a=255*(a*n>>8)/r,u=255*(u*n>>8)/r,o[i]=4278190080&o[i]|s<<16|a<<8|u}},t.dilate=function(e){for(var n,o,r,i,s,a,u,c,h,p,l,d,f,m,y,g,v,x=t._toPixels(e),w=0,E=x.length?x.length/4:0,_=new Int32Array(E);E>w;)for(n=w,o=w+e.width;o>w;)r=i=t._getARGB(x,w),u=w-1,a=w+1,c=w-e.width,h=w+e.width,n>u&&(u=w),a>=o&&(a=w),0>c&&(c=0),h>=E&&(h=w),d=t._getARGB(x,c),l=t._getARGB(x,u),f=t._getARGB(x,h),p=t._getARGB(x,a),s=77*(r>>16&255)+151*(r>>8&255)+28*(255&r),y=77*(l>>16&255)+151*(l>>8&255)+28*(255&l),m=77*(p>>16&255)+151*(p>>8&255)+28*(255&p),g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f),y>s&&(i=l,s=y),m>s&&(i=p,s=m),g>s&&(i=d,s=g),v>s&&(i=f,s=v),_[w++]=i;t._setPixels(x,_)},t.erode=function(e){for(var n,o,r,i,s,a,u,c,h,p,l,d,f,m,y,g,v,x=t._toPixels(e),w=0,E=x.length?x.length/4:0,_=new Int32Array(E);E>w;)for(n=w,o=w+e.width;o>w;)r=i=t._getARGB(x,w),u=w-1,a=w+1,c=w-e.width,h=w+e.width,n>u&&(u=w),a>=o&&(a=w),0>c&&(c=0),h>=E&&(h=w),d=t._getARGB(x,c),l=t._getARGB(x,u),f=t._getARGB(x,h),p=t._getARGB(x,a),s=77*(r>>16&255)+151*(r>>8&255)+28*(255&r),y=77*(l>>16&255)+151*(l>>8&255)+28*(255&l),m=77*(p>>16&255)+151*(p>>8&255)+28*(255&p),g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f),s>y&&(i=l,s=y),s>m&&(i=p,s=m),s>g&&(i=d,s=g),s>v&&(i=f,s=v),_[w++]=i;t._setPixels(x,_)},t}({}),image=function(t,e,n,o,r){"use strict";function i(t,e){this.width=t,this.height=e,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.pixels=[]}var s=e,n=n,o=o,a=r;return s.prototype.createImage=function(t,e){return new i(t,e)},s.prototype.loadImage=function(t,e){var n=new Image,o=new i(1,1,this);return n.onload=function(){o.width=o.canvas.width=n.width,o.height=o.canvas.height=n.height,o.canvas.getContext("2d").drawImage(n,0,0),"undefined"!=typeof e&&e(o)},n.crossOrigin="Anonymous",n.src=t,o},s.prototype.image=function(t,e,o,r,i){void 0===r&&(r=t.width),void 0===i&&(i=t.height);var s=n.modeAdjust(e,o,r,i,this.settings.imageMode);this.curElement.context.drawImage(t.canvas,s.x,s.y,s.w,s.h)},s.prototype.imageMode=function(t){(t===o.CORNER||t===o.CORNERS||t===o.CENTER)&&(this.settings.imageMode=t)},i.prototype._setProperty=function(t,e){this[t]=e},i.prototype.loadPixels=function(){s.prototype.loadPixels(this)},i.prototype.updatePixels=function(t,e,n,o){s.prototype.updatePixels(this,t,e,n,o)},i.prototype.get=function(t,e,n,o){if(void 0===t&&void 0===e&&void 0===n&&void 0===o?(t=0,e=0,n=this.width,o=this.height):void 0===n&&void 0===o&&(n=1,o=1),t>this.width||e>this.height)return void 0;var r=this.canvas.getContext("2d").getImageData(t,e,n,o),s=r.data;if(1===n&&1===o){for(var a=[],u=0;u<s.length;u+=4)a.push(s[u],s[u+1],s[u+2],s[u+3]);return a}n=Math.min(n,this.width),o=Math.min(o,this.height);var c=new i(n,o);return c.canvas.getContext("2d").putImageData(r,0,0,0,0,n,o),c},i.prototype.set=function(t,e,n){var o=e*this.width+t;n instanceof Array?o<this.pixels.length&&(this.pixels[o]=n,this.updatePixels()):(this.canvas.getContext("2d").drawImage(n.canvas,0,0),this.loadPixels())},i.prototype.resize=function(t,e){var n=document.createElement("canvas");n.width=t,n.height=e,n.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,n.width,n.width),this.canvas.width=this.width=t,this.canvas.height=this.height=e,this.canvas.getContext("2d").drawImage(n,0,0,t,e,0,0,t,e),this.pixels.length>0&&this.loadPixels()},i.prototype.copy=function(){var t,e,n,o,r,i,s,a,u;if(9===arguments.length)t=arguments[0],e=arguments[1],n=arguments[2],o=arguments[3],r=arguments[4],i=arguments[5],s=arguments[6],a=arguments[7],u=arguments[8];else{if(8!==arguments.length)throw new Error("Signature not supported");e=arguments[0],n=arguments[1],o=arguments[2],r=arguments[3],i=arguments[4],s=arguments[5],a=arguments[6],u=arguments[7],t=this}this.canvas.getContext("2d").drawImage(t.canvas,e,n,o,r,i,s,a,u)},i.prototype.mask=function(t){void 0===t&&(t=this);var e=this.canvas.getContext("2d").globalCompositeOperation,n=[t,0,0,t.width,t.height,0,0,this.width,this.height];this.canvas.getContext("2d").globalCompositeOperation="destination-out",this.copy.apply(this,n),this.canvas.getContext("2d").globalCompositeOperation=e},i.prototype.filter=function(t,e){a.apply(this.canvas,a[t.toLowerCase()],e)},i.prototype.blend=function(){var t=this.canvas.getContext("2d").globalCompositeOperation,e=arguments[arguments.length-1],n=Array.prototype.slice.call(arguments,0,arguments.length-1);this.canvas.getContext("2d").globalCompositeOperation=e,this.copy.apply(this,n),this.canvas.getContext("2d").globalCompositeOperation=t},i.prototype.save=function(t){var e;switch(t.toLowerCase()){case"png":e="image/png";break;case"jpeg":e="image/jpeg";break;case"jpg":e="image/jpeg";break;default:e="image/png"}if(void 0!==e){var n="image/octet-stream",o=this.canvas.toDataURL(e);o=o.replace(e,n),window.location.href=o}},i}({},core,canvas,constants,filters),imagepixels=function(t,e){"use strict";var n=e;return n.prototype.blend=function(){},n.prototype.copy=function(){},n.prototype.filter=function(){},n.prototype.get=function(t,e){var n=this.width,o=this.height,r=this.curElement.context.getImageData(0,0,n,o).data;if("undefined"!=typeof t&&"undefined"!=typeof e){if(t>=0&&n>t&&e>=0&&o>e){var i=4*e*n+4*t,s=[r[i],r[i+1],r[i+2],r[i+3]];return s}return[0,0,0,255]}return[0,0,0,255]},n.prototype.loadPixels=function(t){var e;"undefined"==typeof t?(t=this,e=t.curElement.context):e=t.canvas.getContext("2d");for(var n=t.width,o=t.height,r=e.getImageData(0,0,n,o).data,i=[],s=0;s<r.length;s+=4)i.push([r[s],r[s+1],r[s+2],r[s+3]]);t._setProperty("pixels",i)},n.prototype.set=function(t,e,n){var o=e*this.width+t;"number"==typeof n?(this.pixels||this.loadPixels(),o<this.pixels.length&&(this.pixels[o]=[n,n,n,255],this.updatePixels())):n instanceof Array?(n.length<4&&(n[3]=255),this.pixels||this.loadPixels(),o<this.pixels.length&&(this.pixels[o]=n,this.updatePixels())):(this.curElement.context.drawImage(n.canvas,t,e),this.loadPixels())},n.prototype.updatePixels=function(t,e,n,o,r){var i;"undefined"==typeof t?(t=this,i=t.curElement.context):i=t.canvas.getContext("2d"),void 0===e&&void 0===n&&void 0===o&&void 0===r&&(e=0,n=0,o=t.width,r=t.height);for(var s=i.getImageData(e,n,o,r),a=s.data,u=0;u<t.pixels.length;u+=1){var c=4*u;a[c]=t.pixels[u][0],a[c+1]=t.pixels[u][1],a[c+2]=t.pixels[u][2],a[c+3]=t.pixels[u][3]}i.putImageData(s,e,n,0,0,o,r)},n}({},core);!function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("reqwest",n):e[t]=n()}("reqwest",this,function(){function handleReadyState(t,e,n){return function(){return t._aborted?n(t.request):(t.request&&4==t.request[readyState]&&(t.request.onreadystatechange=noop,twoHundo.test(t.request.status)?e(t.request):n(t.request)),void 0)}}function setHeaders(t,e){var n,o=e.headers||{};o.Accept=o.Accept||defaultHeaders.accept[e.type]||defaultHeaders.accept["*"],e.crossOrigin||o[requestedWith]||(o[requestedWith]=defaultHeaders.requestedWith),o[contentType]||(o[contentType]=e.contentType||defaultHeaders.contentType);for(n in o)o.hasOwnProperty(n)&&"setRequestHeader"in t&&t.setRequestHeader(n,o[n])}function setCredentials(t,e){"undefined"!=typeof e.withCredentials&&"undefined"!=typeof t.withCredentials&&(t.withCredentials=!!e.withCredentials)}function generalCallback(t){lastValue=t}function urlappend(t,e){return t+(/\?/.test(t)?"&":"?")+e}function handleJsonp(t,e,n,o){var r=uniqid++,i=t.jsonpCallback||"callback",s=t.jsonpCallbackName||reqwest.getcallbackPrefix(r),a=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),u=o.match(a),c=doc.createElement("script"),h=0,p=-1!==navigator.userAgent.indexOf("MSIE 10.0");return u?"?"===u[3]?o=o.replace(a,"$1="+s):s=u[3]:o=urlappend(o,i+"="+s),win[s]=generalCallback,c.type="text/javascript",c.src=o,c.async=!0,"undefined"==typeof c.onreadystatechange||p||(c.event="onclick",c.htmlFor=c.id="_reqwest_"+r),c.onload=c.onreadystatechange=function(){return c[readyState]&&"complete"!==c[readyState]&&"loaded"!==c[readyState]||h?!1:(c.onload=c.onreadystatechange=null,c.onclick&&c.onclick(),e(lastValue),lastValue=void 0,head.removeChild(c),h=1,void 0)},head.appendChild(c),{abort:function(){c.onload=c.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(c),h=1}}}function getRequest(t,e){var n,o=this.o,r=(o.method||"GET").toUpperCase(),i="string"==typeof o?o:o.url,s=o.processData!==!1&&o.data&&"string"!=typeof o.data?reqwest.toQueryString(o.data):o.data||null,a=!1;return"jsonp"!=o.type&&"GET"!=r||!s||(i=urlappend(i,s),s=null),"jsonp"==o.type?handleJsonp(o,t,e,i):(n=o.xhr&&o.xhr(o)||xhr(o),n.open(r,i,o.async===!1?!1:!0),setHeaders(n,o),setCredentials(n,o),win[xDomainRequest]&&n instanceof win[xDomainRequest]?(n.onload=t,n.onerror=e,n.onprogress=function(){},a=!0):n.onreadystatechange=handleReadyState(this,t,e),o.before&&o.before(n),a?setTimeout(function(){n.send(s)},200):n.send(s),n)}function Reqwest(t,e){this.o=t,this.fn=e,init.apply(this,arguments)}function setType(t){var e=t.match(/\.(json|jsonp|html|xml)(\?|$)/);return e?e[1]:"js"}function init(o,fn){function complete(t){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(t)}function success(resp){resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")
}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function error(t,e,n){for(t=self.request,self._responseArgs.resp=t,self._responseArgs.msg=e,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(t,e,n);complete(t)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this,type=o.type||setType(this.url);fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(t,e){return new Reqwest(t,e)}function normalize(t){return t?t.replace(/\r?\n/g,"\r\n"):""}function serial(t,e){var n,o,r,i,s=t.name,a=t.tagName.toLowerCase(),u=function(t){t&&!t.disabled&&e(s,normalize(t.attributes.value&&t.attributes.value.specified?t.value:t.text))};if(!t.disabled&&s)switch(a){case"input":/reset|button|image|file/i.test(t.type)||(n=/checkbox/i.test(t.type),o=/radio/i.test(t.type),r=t.value,(!(n||o)||t.checked)&&e(s,normalize(n&&""===r?"on":r)));break;case"textarea":e(s,normalize(t.value));break;case"select":if("select-one"===t.type.toLowerCase())u(t.selectedIndex>=0?t.options[t.selectedIndex]:null);else for(i=0;t.length&&i<t.length;i++)t.options[i].selected&&u(t.options[i])}}function eachFormElement(){var t,e,n=this,o=function(t,e){var o,r,i;for(o=0;o<e.length;o++)for(i=t[byTag](e[o]),r=0;r<i.length;r++)serial(i[r],n)};for(e=0;e<arguments.length;e++)t=arguments[e],/input|select|textarea/i.test(t.tagName)&&serial(t,n),o(t,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var t={};return eachFormElement.apply(function(e,n){e in t?(t[e]&&!isArray(t[e])&&(t[e]=[t[e]]),t[e].push(n)):t[e]=n},arguments),t}function buildParams(t,e,n,o){var r,i,s,a=/\[\]$/;if(isArray(e))for(i=0;e&&i<e.length;i++)s=e[i],n||a.test(t)?o(t,s):buildParams(t+"["+("object"==typeof s?i:"")+"]",s,n,o);else if(e&&"[object Object]"===e.toString())for(r in e)buildParams(t+"["+r+"]",e[r],n,o);else o(t,e)}var win=window,doc=document,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(t){if(t.crossOrigin===!0){var e=win[xmlHttpRequest]?new XMLHttpRequest:null;if(e&&"withCredentials"in e)return e;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(t){return t}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(t,e){return t=t||function(){},e=e||function(){},this._fulfilled?this._responseArgs.resp=t(this._responseArgs.resp):this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(t),this._errorHandlers.push(e)),this},always:function(t){return this._fulfilled||this._erred?t(this._responseArgs.resp):this._completeHandlers.push(t),this},fail:function(t){return this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(t),this}},reqwest.serializeArray=function(){var t=[];return eachFormElement.apply(function(e,n){t.push({name:e,value:n})},arguments),t},reqwest.serialize=function(){if(0===arguments.length)return"";var t,e,n=Array.prototype.slice.call(arguments,0);return t=n.pop(),t&&t.nodeType&&n.push(t)&&(t=null),t&&(t=t.type),e="map"==t?serializeHash:"array"==t?reqwest.serializeArray:serializeQueryString,e.apply(null,n)},reqwest.toQueryString=function(t,e){var n,o,r=e||!1,i=[],s=encodeURIComponent,a=function(t,e){e="function"==typeof e?e():null==e?"":e,i[i.length]=s(t)+"="+s(e)};if(isArray(t))for(o=0;t&&o<t.length;o++)a(t[o].name,t[o].value);else for(n in t)t.hasOwnProperty(n)&&buildParams(n,t[n],r,a);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(t,e){return t&&(t.type&&(t.method=t.type)&&delete t.type,t.dataType&&(t.type=t.dataType),t.jsonpCallback&&(t.jsonpCallbackName=t.jsonpCallback)&&delete t.jsonpCallback,t.jsonp&&(t.jsonpCallback=t.jsonp)),new Reqwest(t,e)},reqwest.ajaxSetup=function(t){t=t||{};for(var e in t)globalSetupOptions[e]=t[e]},reqwest});var inputfiles=function(t,e,n){"use strict";var o=e,n=n;return o.prototype.createInput=function(){},o.prototype.createReader=function(){},o.prototype.loadBytes=function(){},o.prototype.loadJSON=function(t,e){var o=[],r=-1===t.indexOf("http")?"json":"jsonp";return n({url:t,type:r,success:function(t){for(var n in t)o[n]=t[n];"undefined"!=typeof e&&e(o)}}),o},o.prototype.loadStrings=function(t,e){var n=[],o=new XMLHttpRequest;return o.open("GET",t,!0),o.onreadystatechange=function(){if(4===o.readyState&&(200===o.status||0===o.status)){var t=o.responseText.match(/[^\r\n]+/g);for(var r in t)n[r]=t[r];"undefined"!=typeof e&&e(n)}},o.send(null),n},o.prototype.loadTable=function(){},o.prototype.loadXML=function(t,e){var o=[];return n({url:t,type:"xml",success:function(t){o[0]=t,"undefined"!=typeof e&&e(o)}}),o},o.prototype.open=function(){},o.prototype.parseXML=function(){},o.prototype.saveTable=function(){},o.prototype.selectFolder=function(){},o.prototype.selectInput=function(){},o}({},core,reqwest),inputkeyboard=function(t,e){"use strict";var n=e;return n.prototype.isKeyPressed=n.prototype.keyIsPressed=function(){return this.keyDown},n.prototype.onkeydown=function(t){var e=this.keyPressed||window.keyPressed;this._setProperty("keyDown",!0),this._setProperty("keyCode",t.keyCode),this._setProperty("key",String.fromCharCode(t.keyCode)),"function"==typeof e&&e(t)},n.prototype.onkeyup=function(t){var e=this.keyReleased||window.keyReleased;this._setProperty("keyDown",!1),"function"==typeof e&&e(t)},n.prototype.onkeypress=function(t){var e=this.keyTyped||window.keyTyped;"function"==typeof e&&e(t)},n}({},core),inputtime_date=function(t,e){"use strict";var n=e;return n.prototype.day=function(){return(new Date).getDate()},n.prototype.hour=function(){return(new Date).getHours()},n.prototype.minute=function(){return(new Date).getMinutes()},n.prototype.millis=function(){return(new Date).getTime()-this._startTime},n.prototype.month=function(){return(new Date).getMonth()+1},n.prototype.second=function(){return(new Date).getSeconds()},n.prototype.year=function(){return(new Date).getFullYear()},n}({},core),mathcalculation=function(t,e){"use strict";var n=e;return n.prototype.abs=Math.abs,n.prototype.ceil=Math.ceil,n.prototype.constrain=function(t,e,n){return this.max(this.min(t,n),e)},n.prototype.dist=function(t,e,n,o){var r=n-t,i=o-e;return Math.sqrt(r*r+i*i)},n.prototype.exp=Math.exp,n.prototype.floor=Math.floor,n.prototype.lerp=function(t,e,n){return n*(e-t)+t},n.prototype.log=Math.log,n.prototype.mag=function(t,e){return Math.sqrt(t*t+e*e)},n.prototype.map=function(t,e,n,o,r){return(t-e)/(n-e)*(r-o)+o},n.prototype.max=function(){return arguments[0]instanceof Array?Math.max.apply(null,arguments[0]):Math.max.apply(null,arguments)},n.prototype.min=function(){return arguments[0]instanceof Array?Math.min.apply(null,arguments[0]):Math.min.apply(null,arguments)},n.prototype.norm=function(t,e,n){return this.map(t,e,n,0,1)},n.prototype.pow=Math.pow,n.prototype.round=Math.round,n.prototype.sq=function(t){return t*t},n.prototype.sqrt=Math.sqrt,n}({},core),mathrandom=function(t,e){"use strict";var n=e,o=1e5,r=Math.ceil(Math.random()*o),i=!1;return n.prototype.randomSeed=function(t){r=Math.ceil(Math.abs(t)),i=!0},n.prototype.random=function(t,e){var n;if(i?(n=Math.sin(r++)*o,n-=Math.floor(n)):n=Math.random(),0===arguments.length)return n;if(1===arguments.length)return n*t;if(t>e){var s=t;t=e,e=s}return n*(e-t)+t},n}({},core),mathnoise=function(t,e){"use strict";for(var n=e,o=4,r=1<<o,i=8,s=1<<i,a=4095,u=4,c=.5,h=.5,p=Math.floor(360/h),l=new Array(p),d=new Array(p),f=Math.PI/180,m=0;p>m;m++)l[m]=Math.sin(m*f*h),d[m]=Math.cos(m*f*h);var y=p;y>>=1;var g;return n.prototype.noise=function(t,e,n){if(e=e||0,n=n||0,null==g){g=new Array(a+1);for(var h=0;a+1>h;h++)g[h]=Math.random()}0>t&&(t=-t),0>e&&(e=-e),0>n&&(n=-n);for(var l,f,m,v,x,w=Math.floor(t),E=Math.floor(e),_=Math.floor(n),M=t-w,b=e-E,R=n-_,A=0,C=.5,S=function(t){return.5*(1-d[Math.floor(t*y)%p])},T=0;u>T;T++){var P=w+(E<<o)+(_<<i);l=S(M),f=S(b),m=g[P&a],m+=l*(g[P+1&a]-m),v=g[P+r&a],v+=l*(g[P+r+1&a]-v),m+=f*(v-m),P+=s,v=g[P&a],v+=l*(g[P+1&a]-v),x=g[P+r&a],x+=l*(g[P+r+1&a]-x),v+=f*(x-v),m+=S(R)*(v-m),A+=m*C,C*=c,w<<=1,M*=2,E<<=1,b*=2,_<<=1,R*=2,M>=1&&(w++,M--),b>=1&&(E++,b--),R>=1&&(_++,R--)}return A},n.prototype.noiseDetail=function(t,e){t>0&&(u=t),e>0&&(c=e)},n.prototype.noiseSeed=function(){},n}({},core),polargeometry=function(){return{degreesToRadians:function(t){return 2*Math.PI*t/360},radiansToDegrees:function(t){return 360*t/(2*Math.PI)}}}({}),mathtrigonometry=function(t,e,n,o){"use strict";var r=e,i=n,o=o;return r.prototype.acos=function(t){return this.settings.angleMode===o.RADIANS?Math.acos(t):i.radiansToDegrees(Math.acos(t))},r.prototype.asin=function(t){return this.settings.angleMode===o.RADIANS?Math.asin(t):i.radiansToDegrees(Math.asin(t))},r.prototype.atan=function(t){return this.settings.angleMode===o.RADIANS?Math.atan(t):i.radiansToDegrees(Math.atan(t))},r.prototype.atan2=function(t,e){return this.settings.angleMode===o.RADIANS?Math.atan2(t,e):i.radiansToDegrees(Math.atan2(t,e))},r.prototype.cos=function(t){return this.settings.angleMode===o.RADIANS?Math.cos(t):Math.cos(this.radians(t))},r.prototype.sin=function(t){return this.settings.angleMode===o.RADIANS?Math.sin(t):Math.sin(this.radians(t))},r.prototype.tan=function(t){return this.settings.angleMode===o.RADIANS?Math.tan(t):Math.tan(this.radians(t))},r.prototype.degrees=function(t){return i.radiansToDegrees(t)},r.prototype.radians=function(t){return i.degreesToRadians(t)},r.prototype.angleMode=function(t){(t===o.DEGREES||t===o.RADIANS)&&(this.settings.angleMode=t)},r}({},core,polargeometry,constants),outputfiles=function(t,e){"use strict";var n=e;return n.prototype.beginRaw=function(){},n.prototype.beginRecord=function(){},n.prototype.createOutput=function(){},n.prototype.createWriter=function(t){-1===this.pWriters.indexOf(t)&&(this.pWriters.name=new this.PrintWriter(t))},n.prototype.endRaw=function(){},n.prototype.endRecord=function(){},n.prototype.escape=function(t){return t},n.prototype.PrintWriter=function(t){this.name=t,this.content="",this.print=function(t){this.content+=t},this.println=function(t){this.content+=t+"\n"},this.flush=function(){this.content=""},this.close=function(){this.writeFile(this.content)}},n.prototype.saveBytes=function(){},n.prototype.saveJSONArray=function(){},n.prototype.saveJSONObject=function(){},n.prototype.saveStream=function(){},n.prototype.saveStrings=function(t){this.writeFile(t.join("\n"))},n.prototype.saveXML=function(){},n.prototype.selectOutput=function(){},n.prototype.writeFile=function(t){this.open("data:text/json;charset=utf-8,"+this.escape(t),"download")},n}({},core),outputimage=function(t,e){"use strict";var n=e;return n.prototype.save=function(){this.open(this.curElement.elt.toDataURL("image/png"))},n}({},core),outputtext_area=function(t,e){"use strict";var n=e;return n.prototype.print=window.console&&console.log?console.log.bind(console):function(){},n.prototype.println=n.prototype.print,n}({},core),shape2d_primitives=function(t,e,n,o){"use strict";var r=e,n=n,o=o;return r.prototype.arc=function(t,e,r,i,s,a,u){var c=n.arcModeAdjust(t,e,r,i,this.settings.ellipseMode),h=c.h>c.w?c.h/2:c.w/2,p=c.h>c.w?c.w/c.h:1,l=c.h>c.w?1:c.h/c.w;return this.curElement.context.scale(p,l),this.curElement.context.beginPath(),this.curElement.context.arc(c.x,c.y,h,s,a),this.curElement.context.stroke(),u===o.CHORD||u===o.OPEN?this.curElement.context.closePath():(u===o.PIE||void 0===u)&&(this.curElement.context.lineTo(c.x,c.y),this.curElement.context.closePath()),this.curElement.context.fill(),u!==o.OPEN&&void 0!==u&&this.curElement.context.stroke(),this},r.prototype.ellipse=function(t,e,o,r){var i=n.modeAdjust(t,e,o,r,this.settings.ellipseMode),s=.5522848,a=i.w/2*s,u=i.h/2*s,c=i.x+i.w,h=i.y+i.h,p=i.x+i.w/2,l=i.y+i.h/2;return this.curElement.context.beginPath(),this.curElement.context.moveTo(i.x,l),this.curElement.context.bezierCurveTo(i.x,l-u,p-a,i.y,p,i.y),this.curElement.context.bezierCurveTo(p+a,i.y,c,l-u,c,l),this.curElement.context.bezierCurveTo(c,l+u,p+a,h,p,h),this.curElement.context.bezierCurveTo(p-a,h,i.x,l+u,i.x,l),this.curElement.context.closePath(),this.curElement.context.fill(),this.curElement.context.stroke(),this},r.prototype.line=function(t,e,n,o){return"rgba(0,0,0,0)"!==this.curElement.context.strokeStyle?(this.curElement.context.beginPath(),this.curElement.context.moveTo(t,e),this.curElement.context.lineTo(n,o),this.curElement.context.stroke(),this):void 0},r.prototype.point=function(t,e){var n=this.curElement.context.strokeStyle,r=this.curElement.context.fillStyle;return"rgba(0,0,0,0)"!==n?(t=Math.round(t),e=Math.round(e),this.curElement.context.fillStyle=n,this.curElement.context.lineWidth>1?(this.curElement.context.beginPath(),this.curElement.context.arc(t,e,this.curElement.context.lineWidth/2,0,o.TWO_PI,!1),this.curElement.context.fill()):this.curElement.context.fillRect(t,e,1,1),this.curElement.context.fillStyle=r,this):void 0},r.prototype.quad=function(t,e,n,o,r,i,s,a){return this.curElement.context.beginPath(),this.curElement.context.moveTo(t,e),this.curElement.context.lineTo(n,o),this.curElement.context.lineTo(r,i),this.curElement.context.lineTo(s,a),this.curElement.context.closePath(),this.curElement.context.fill(),this.curElement.context.stroke(),this},r.prototype.rect=function(t,e,o,r){var i=n.modeAdjust(t,e,o,r,this.settings.rectMode);return this.curElement.context.beginPath(),this.curElement.context.rect(i.x,i.y,i.w,i.h),this.curElement.context.fill(),this.curElement.context.stroke(),this},r.prototype.triangle=function(t,e,n,o,r,i){return this.curElement.context.beginPath(),this.curElement.context.moveTo(t,e),this.curElement.context.lineTo(n,o),this.curElement.context.lineTo(r,i),this.curElement.context.closePath(),this.curElement.context.fill(),this.curElement.context.stroke(),this},r}({},core,canvas,constants),shapeattributes=function(t,e,n){"use strict";var o=e,n=n;return o.prototype.ellipseMode=function(t){return(t===n.CORNER||t===n.CORNERS||t===n.RADIUS||t===n.CENTER)&&(this.settings.ellipseMode=t),this},o.prototype.noSmooth=function(){return this.curElement.context.mozImageSmoothingEnabled=!1,this.curElement.context.webkitImageSmoothingEnabled=!1,this},o.prototype.rectMode=function(t){return(t===n.CORNER||t===n.CORNERS||t===n.RADIUS||t===n.CENTER)&&(this.settings.rectMode=t),this},o.prototype.smooth=function(){return this.curElement.context.mozImageSmoothingEnabled=!0,this.curElement.context.webkitImageSmoothingEnabled=!0,this},o.prototype.strokeCap=function(t){return(t===n.ROUND||t===n.SQUARE||t===n.PROJECT)&&(this.curElement.context.lineCap=t),this},o.prototype.strokeJoin=function(t){return(t===n.ROUND||t===n.BEVEL||t===n.MITER)&&(this.curElement.context.lineJoin=t),this},o.prototype.strokeWeight=function(t){return this.curElement.context.lineWidth="undefined"==typeof t||0===t?1e-4:t,this},o}({},core,constants),shapecurves=function(t,e){"use strict";var n=e;return n.prototype.bezier=function(t,e,o,r,i,s,a,u){this.curElement.context.beginPath(),this.curElement.context.moveTo(t,e);for(var c=0;c<=this._bezierDetail;c++){var h=c/parseFloat(this._bezierDetail),p=n.prototype.bezierPoint(t,o,i,a,h),l=n.prototype.bezierPoint(e,r,s,u,h);this.curElement.context.lineTo(p,l)}return this.curElement.context.stroke(),this},n.prototype.bezierDetail=function(t){return this._setProperty("_bezierDetail",t),this},n.prototype.bezierPoint=function(t,e,n,o,r){var i=1-r;return Math.pow(i,3)*t+3*Math.pow(i,2)*r*e+3*i*Math.pow(r,2)*n+Math.pow(r,3)*o},n.prototype.bezierTangent=function(t,e,n,o,r){var i=1-r;return 3*o*Math.pow(r,2)-3*n*Math.pow(r,2)+6*n*i*r-6*e*i*r+3*e*Math.pow(i,2)-3*t*Math.pow(i,2)},n.prototype.curve=function(t,e,o,r,i,s,a,u){this.curElement.context.moveTo(t,e),this.curElement.context.beginPath();for(var c=0;c<=this._curveDetail;c++){var h=parseFloat(c/this._curveDetail),p=n.prototype.curvePoint(t,o,i,a,h),l=n.prototype.curvePoint(e,r,s,u,h);this.curElement.context.lineTo(p,l)}return this.curElement.context.stroke(),this.curElement.context.closePath(),this},n.prototype.curveDetail=function(t){return this._setProperty("_curveDetail",t),this},n.prototype.curvePoint=function(t,e,n,o,r){var i=r*r*r,s=r*r,a=-.5*i+s-.5*r,u=1.5*i-2.5*s+1,c=-1.5*i+2*s+.5*r,h=.5*i-.5*s;return t*a+e*u+n*c+o*h},n.prototype.curveTangent=function(t,e,n,o,r){var i=r*r,s=-3*i/2+2*r-.5,a=9*i/2-5*r,u=-9*i/2+4*r+.5,c=3*i/2-r;return t*s+e*a+n*u+o*c},n.prototype.curveTightness=function(){},n}({},core),shapevertex=function(t,e,n){"use strict";var o=e,n=n;return o.prototype.beginContour=function(){return this._contourVertices=[],this._contourInited=!0,this},o.prototype.beginShape=function(t){return this.shapeKind=t===n.POINTS||t===n.LINES||t===n.TRIANGLES||t===n.TRIANGLE_FAN||t===n.TRIANGLE_STRIP||t===n.QUADS||t===n.QUAD_STRIP?t:null,this.shapeInited=!0,this.curElement.context.beginPath(),this},o.prototype.bezierVertex=function(t,e,o,r,i,s){if(this._contourInited){var a={};return a.x=t,a.y=e,a.x3=o,a.y3=r,a.x4=i,a.y4=s,a.type=n.BEZIER,this._contourVertices.push(a),this}return this.curElement.context.bezierCurveTo(t,e,o,r,i,s),this},o.prototype.curveVertex=function(){},o.prototype.endContour=function(){this._contourVertices.reverse(),this.curElement.context.moveTo(this._contourVertices[0].x,this._contourVertices[0].y);var t=this.curElement.context;return this._contourVertices.slice(1).forEach(function(e){switch(e.type){case n.LINEAR:t.lineTo(e.x,e.y);break;case n.QUADRATIC:t.quadraticCurveTo(e.x,e.y,e.x3,e.y3);break;case n.BEZIER:t.bezierCurveTo(e.x,e.y,e.x3,e.y3,e.x4,e.y4);break;case n.CURVE:}}),this.curElement.context.closePath(),this._contourInited=!1,this},o.prototype.endShape=function(t){return t===n.CLOSE&&(this.curElement.context.closePath(),this.curElement.context.fill()),this.curElement.context.stroke(),this},o.prototype.quadraticVertex=function(t,e,o,r){if(this._contourInited){var i={};return i.x=t,i.y=e,i.x3=o,i.y3=r,i.type=n.QUADRATIC,this._contourVertices.push(i),this}return this.curElement.context.quadraticCurveTo(t,e,o,r),this},o.prototype.vertex=function(t,e){if(this._contourInited){var o={};return o.x=t,o.y=e,o.type=n.LINEAR,this._contourVertices.push(o),this}return this.shapeInited?this.curElement.context.moveTo(t,e):this.curElement.context.lineTo(t,e),this.shapeInited=!1,this},o}({},core,constants),structure=function(t,e){"use strict";var n=e;return n.prototype.exit=function(){throw"Not implemented"},n.prototype.noLoop=function(){this.settings.loop=!1},n.prototype.loop=function(){this.settings.loop=!0},n.prototype.pushStyle=function(){this.styles.push({fillStyle:this.curElement.context.fillStyle,strokeStyle:this.curElement.context.strokeStyle,lineWidth:this.curElement.context.lineWidth,lineCap:this.curElement.context.lineCap,lineJoin:this.curElement.context.lineJoin,imageMode:this.settings.imageMode,rectMode:this.settings.rectMode,ellipseMode:this.settings.ellipseMode,colorMode:this.settings.colorMode,textAlign:this.curElement.context.textAlign,textFont:this.settings.textFont,textLeading:this.settings.textLeading,textSize:this.settings.textSize,textStyle:this.settings.textStyle})},n.prototype.popStyle=function(){var t=this.styles.pop();this.curElement.context.fillStyle=t.fillStyle,this.curElement.context.strokeStyle=t.strokeStyle,this.curElement.context.lineWidth=t.lineWidth,this.curElement.context.lineCap=t.lineCap,this.curElement.context.lineJoin=t.lineJoin,this.settings.imageMode=t.imageMode,this.settings.rectMode=t.rectMode,this.settings.ellipseMode=t.ellipseMode,this.settings.colorMode=t.colorMode,this.curElement.context.textAlign=t.textAlign,this.settings.textFont=t.textFont,this.settings.textLeading=t.textLeading,this.settings.textSize=t.textSize,this.settings.textStyle=t.textStyle},n.prototype.redraw=function(){throw"Not implemented"},n.prototype.size=function(){throw"Not implemented"},n}({},core),linearalgebra=function(){return{pMultiplyMatrix:function(t,e){for(var n=[],o=t.length,r=e.length,i=t[0].length,s=0;r>s;s++){n[s]=[];for(var a=0;i>a;a++){for(var u=0,c=0;o>c;c++)u+=t[c][a]*e[s][c];n[s].push(u)}}return n}}}({}),transform=function(t,e,n,o){"use strict";var r=e,n=n,i=o;return r.prototype.applyMatrix=function(t,e,n,o,r,s){this.curElement.context.transform(t,e,n,o,r,s);var a=this.matrices[this.matrices.length-1];return a=i.pMultiplyMatrix(a,[t,e,n,o,r,s]),this},r.prototype.popMatrix=function(){return this.curElement.context.restore(),this.matrices.pop(),this},r.prototype.printMatrix=function(){return this.print(this.matrices[this.matrices.length-1]),this},r.prototype.pushMatrix=function(){return this.curElement.context.save(),this.matrices.push([1,0,0,1,0,0]),this},r.prototype.resetMatrix=function(){return this.curElement.context.setTransform(),this.matrices[this.matrices.length-1]=[1,0,0,1,0,0],this},r.prototype.rotate=function(t){this.settings.angleMode===n.DEGREES&&(t=this.radians(t)),this.curElement.context.rotate(t);var e=this.matrices[this.matrices.length-1],o=Math.cos(t),r=Math.sin(t),i=e[0]*o+e[2]*r,s=e[1]*o+e[3]*r,a=e[0]*-r+e[2]*o,u=e[1]*-r+e[3]*o;return e[0]=i,e[1]=s,e[2]=a,e[3]=u,this},r.prototype.rotateX=function(){},r.prototype.rotateY=function(){},r.prototype.rotateZ=function(){},r.prototype.scale=function(){var t=1,e=1;1===arguments.length?t=e=arguments[0]:(t=arguments[0],e=arguments[1]),this.curElement.context.scale(t,e);var n=this.matrices[this.matrices.length-1];return n[0]*=t,n[1]*=t,n[2]*=e,n[3]*=e,this},r.prototype.shearX=function(t){this.curElement.context.transform(1,0,this.tan(t),1,0,0);var e=this.matrices[this.matrices.length-1];return e=i.pMultiplyMatrix(e,[1,0,this.tan(t),1,0,0]),this},r.prototype.shearY=function(t){this.curElement.context.transform(1,this.tan(t),0,1,0,0);var e=this.matrices[this.matrices.length-1];return e=i.pMultiplyMatrix(e,[1,this.tan(t),0,1,0,0]),this},r.prototype.translate=function(t,e){this.curElement.context.translate(t,e);var n=this.matrices[this.matrices.length-1];return n[4]+=n[0]*t+n[2]*e,n[5]+=n[1]*t+n[3]*e,this},r}({},core,constants,linearalgebra,outputtext_area),typographyattributes=function(t,e,n){"use strict";var o=e,n=n;return o.prototype.textAlign=function(t){(t===n.LEFT||t===n.RIGHT||t===n.CENTER)&&(this.curElement.context.textAlign=t)},o.prototype.textHeight=function(t){return this.curElement.context.measureText(t).height},o.prototype.textLeading=function(t){this._setProperty("_textLeading",t)},o.prototype.textSize=function(t){this._setProperty("_textSize",t)},o.prototype.textStyle=function(t){(t===n.NORMAL||t===n.ITALIC||t===n.BOLD)&&this._setProperty("_textStyle",t)},o.prototype.textWidth=function(t){return this.curElement.context.measureText(t).width},o}({},core,constants),typographyloading_displaying=function(t,e,n){"use strict";var o=e,n=n;return o.prototype.text=function(){if(this.curElement.context.font=this._textStyle+" "+this._textSize+"px "+this._textFont,3===arguments.length)this.curElement.context.fillText(arguments[0],arguments[1],arguments[2]),this.curElement.context.strokeText(arguments[0],arguments[1],arguments[2]);else if(5===arguments.length){var t=arguments[0].split(" "),e="",o=n.modeAdjust(arguments[1],arguments[2],arguments[3],arguments[4],this.settings.rectMode);o.y+=this._textLeading;for(var r=0;r<t.length;r++){var i=e+t[r]+" ",s=this.curElement.context.measureText(i),a=s.width;if(o.y>o.h)break;a>o.w&&r>0?(this.curElement.context.fillText(e,o.x,o.y),this.curElement.context.strokeText(e,o.x,o.y),e=t[r]+" ",o.y+=this._textLeading):e=i}o.y<=o.h&&(this.curElement.context.fillText(e,o.x,o.y),this.curElement.context.strokeText(e,o.x,o.y))}},o.prototype.textFont=function(t){this._setProperty("_textFont",t)},o}({},core,canvas),src_app=function(t,e,n){"use strict";var o=e,r=n,i=function(){window.PHANTOMJS||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&new o};return"complete"===document.readyState?i():window.addEventListener("load",i,!1),window.p5=o,window.PVector=r,o}({},core,mathpvector,colorcreating_reading,colorsetting,dataarray_functions,datastring_functions,dommanipulate,dompelement,environment,image,imagepixels,inputfiles,inputkeyboard,inputmouse,inputtime_date,inputtouch,mathcalculation,mathrandom,mathnoise,mathtrigonometry,outputfiles,outputimage,outputtext_area,shape2d_primitives,shapeattributes,shapecurves,shapevertex,structure,transform,typographyattributes,typographyloading_displaying)}();